(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{131:function(e,a,t){},279:function(e,a,t){e.exports=t(462)},461:function(e,a,t){},462:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(48),s=t.n(l),c=t(74),o=t(35),i=t(19),u={user:null,isLoading:!0},d={channel:null,isPrivate:!1},m=Object(c.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_USER":return Object(i.a)({},e,{user:a.user,isLoading:!1});default:return e}},channel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_CHANNEL":return Object(i.a)({},e,{channel:a.channel,isPrivate:a.isPrivate});default:return e}}}),h=t(238),f=t(73),p=t(56),g=t(57),E=t(60),v=t(58),b=t(63),y=t(162),C=t.n(y);t(295),t(296),t(297);C.a.initializeApp({apiKey:"AIzaSyBa643TjTtPD0rnjdOfuFLpYyzDdsqr0Iw",authDomain:"plack-23141.firebaseapp.com",databaseURL:"https://plack-23141.firebaseio.com",projectId:"plack-23141",storageBucket:"plack-23141.appspot.com",messagingSenderId:"360318459062",appId:"1:360318459062:web:a7d366336084667dacda17",measurementId:"G-E16F9YZVBR"});var j=C.a,k=t(34),O=t(59),S=t(239),R=t.n(S),w=t(484),P=t(472),M=t(490),A=t(75),N=t(479),L=t(487),U=t(463),T=(t(131),function(){var e=Object(n.useState)({username:"",email:"",password:"",passwordConfirm:"",errors:"",loading:!1,usersRef:j.database().ref("users")}),a=Object(O.a)(e,2),t=a[0],l=a[1],s=function(e){l(Object(i.a)({},t,Object(k.a)({},e.target.name,e.target.value)))},c=function(e){var a=e.username,t=e.password,n=e.email;return a.length&&t.length&&n.length>0},o=function(e){var a=e.password;return a===e.passwordConfirm&&a.length>=6},u=function(e){return e.username.length>3},d=function(e){return t.usersRef.child(e.user.uid).set({name:e.user.displayName,avatar:e.user.photoURL})},m=r.a.createElement(w.a,{color:"red"},t.errors);return r.a.createElement(P.a,{className:"u-heigth100vh",textAlign:"center",verticalAlign:"middle"},r.a.createElement(P.a.Column,{style:{maxWidth:450}},r.a.createElement(M.a,{as:"h2",color:"red",textAlign:"center"},r.a.createElement(A.a,{name:"code",color:"black"}),"Register for Plack"),r.a.createElement(N.a,{size:"large"},r.a.createElement(L.a,{stacked:!0},r.a.createElement(N.a.Input,{fluid:!0,name:"username",icon:"user",iconPosition:"left",placeholder:"Username",onChange:s,type:"text"}),r.a.createElement(N.a.Input,{fluid:!0,name:"email",icon:"mail",iconPosition:"left",placeholder:"Email-adress",onChange:s,type:"email"}),r.a.createElement(N.a.Input,{fluid:!0,name:"password",icon:"lock",iconPosition:"left",placeholder:"Password",onChange:s,type:"password"}),r.a.createElement(N.a.Input,{fluid:!0,name:"passwordConfirm",icon:"repeat",iconPosition:"left",placeholder:"Repeat password",onChange:s,type:"password"}),r.a.createElement(U.a,{disabled:t.loading,className:t.loading?"loading":null,onClick:function(e){(c(t)?o(t)?u(t)||(l(Object(i.a)({},t,{errors:"Username length has to be more than 3 symbols"})),0):(l(Object(i.a)({},t,{errors:"Passwords do not match or password to short"})),0):(l(Object(i.a)({},t,{errors:"Fill all fields"})),0))&&(e.preventDefault(),l(Object(i.a)({},t,{loading:!0,errors:""})),j.auth().createUserWithEmailAndPassword(t.email,t.password).then((function(e){e.user.updateProfile({displayName:t.username,photoURL:"https://www.gravatar.com/avatar/".concat(R()(e.user.email),"?d=identicon")}).then((function(){d(e)})).catch((function(e){console.log(e),l(Object(i.a)({},t,{loading:!1,errors:e.message}))}))})).catch((function(e){l(Object(i.a)({},t,{loading:!1,errors:e.message})),console.log(e)})))},color:"red",fluid:!0,size:"large"},"Submit"))),t.errors.length>0?m:null,r.a.createElement(w.a,null,"Already a user? ",r.a.createElement(f.b,{to:"/login"},"Login"))))}),D=function(){var e=Object(n.useState)({email:null,password:null,errors:"",loading:!1}),a=Object(O.a)(e,2),t=a[0],l=a[1],s=function(e){l(Object(i.a)({},t,Object(k.a)({},e.target.name,e.target.value)))},c=function(e){var a=e.email,t=e.password;return!(!a||!t)||l((function(e){return Object(i.a)({},e,{errors:"Fill all fields"})}))},o=r.a.createElement(w.a,{color:"red"},t.errors);return r.a.createElement(P.a,{className:"u-heigth100vh",textAlign:"center",verticalAlign:"middle"},r.a.createElement(P.a.Column,{style:{maxWidth:450}},r.a.createElement(M.a,{as:"h2",color:"red",textAlign:"center"},r.a.createElement(A.a,{name:"code",color:"black"}),"Login to Plack"),r.a.createElement(N.a,{size:"large"},r.a.createElement(L.a,{stacked:!0},r.a.createElement(N.a.Input,{fluid:!0,name:"email",icon:"mail",iconPosition:"left",placeholder:"Email-adress",onChange:s,type:"email"}),r.a.createElement(N.a.Input,{fluid:!0,name:"password",icon:"lock",iconPosition:"left",placeholder:"Password",onChange:s,type:"password"}),r.a.createElement(U.a,{disabled:t.loading,className:t.loading?"loading":null,onClick:function(e){c(t)&&(e.preventDefault(),l((function(e){return Object(i.a)({},e,{loading:!0,errors:""})})),j.auth().signInWithEmailAndPassword(t.email,t.password).then((function(e){l((function(e){return Object(i.a)({},e,{loading:!1})}))})).catch((function(e){console.log(e),l((function(a){return Object(i.a)({},a,{loading:!1,errors:e.message})}))})))},color:"red",fluid:!0,size:"large"},"Login"))),t.errors.length>0?o:null,r.a.createElement(w.a,null,"Not a user? ",r.a.createElement(f.b,{to:"/register"},"Register"))))},I=t(242),F=t(488),x=t(485),_=t(476),z=function(){return r.a.createElement(F.a,{as:x.a,icon:"labeled",inverted:!0,vertical:!0,visible:!0,width:"very thin"},r.a.createElement(_.a,null),r.a.createElement(U.a,{icon:"add",size:"small",color:"blue"}))},B=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"remove",t=j.database().ref("presence/"+e);"add"===a?t.set(!0):t.remove()},W=t(243),G=t(164),V=t(483),H=t(267),J=function(e){var a=e.userData,t=Object(o.c)(),n=[{key:"user",text:r.a.createElement("span",null,"Signed in as ",r.a.createElement("strong",null,a.displayName)),disabled:!0},{key:"avatar",text:r.a.createElement("span",null,"Change Avatar")},{key:"signout",text:r.a.createElement("span",{onClick:function(){j.auth().signOut(),B(a.uid),t({type:"RESET_APP"})}},"Sign Out")}];return r.a.createElement(P.a,null,r.a.createElement(I.a,null,r.a.createElement(W.a,{style:{padding:"1.2em",margin:0}},r.a.createElement(M.a,{inverted:!0,floated:"left",as:"h2"},r.a.createElement(A.a,{name:"code"}),r.a.createElement(G.a,null,"Plack")),r.a.createElement(M.a,{style:{padding:"0.25em"},as:"h4",inverted:!0},r.a.createElement(V.a,{trigger:r.a.createElement("span",null,r.a.createElement(H.a,{src:a.photoURL,spaced:"right",avatar:!0}),a.displayName),options:n})))))},q=t(480),K=t(473),Y=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:"SET_CHANNEL",channel:e,isPrivate:a}},Z=function(e){Object(E.a)(t,e);var a=Object(v.a)(t);function t(){var e;Object(p.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=a.call.apply(a,[this].concat(l))).state={modal:!1,channelName:"",channelDetails:"",channels:[],channelsRef:j.database().ref("channels"),firstLoad:!0,activeChannel:null},e.addListeners=function(){var a=[];e.state.channelsRef.on("child_added",(function(t){a.push(t.val()),e.setState({channels:a},(function(){return e.setFirstChannel()}))}))},e.setFirstChannel=function(){e.state.firstLoad&&(e.props.setChannel(e.state.channels[0]),e.setState({firstLoad:!1,activeChannel:e.state.channels[0].id}))},e.closeModal=function(){return e.setState({modal:!1})},e.openModal=function(){return e.setState({modal:!0})},e.handleChange=function(a){e.setState(Object(k.a)({},a.target.name,a.target.value))},e.handleSubmit=function(a){a.preventDefault(),e.isFormValid(e.state)&&e.addChannel()},e.addChannel=function(){var a=e.state.channelsRef.push().key,t=e.props.userData,n=e.state,r={id:a,name:n.channelName,details:n.channelDetails,createdBy:{name:t.displayName,avatar:t.photoURL}};e.state.channelsRef.child(a).update(r).then((function(){e.setState({channelName:"",channelDetails:""}),e.closeModal()})).catch((function(e){console.log(e)}))},e.isFormValid=function(e){var a=e.channelName,t=e.channelDetails;return a&&t},e.changeChannel=function(a){e.props.setChannel(a),e.setState({activeChannel:a.id})},e.displayChannels=function(a){return a.map((function(a){return r.a.createElement(x.a.Item,{key:a.id,onClick:function(){return e.changeChannel(a)},name:a.name,active:e.state.activeChannel===a.id},"#",a.name)}))},e}return Object(g.a)(t,[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){console.log("Unmount"),this.state.channelsRef.off()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a.Menu,{style:{paddingBottom:"2em"}},r.a.createElement(x.a.Item,null,r.a.createElement("span",null,r.a.createElement(A.a,{name:"exchange"})," CHANNELS"),"(",this.state.channels.length,")"," ",r.a.createElement(A.a,{name:"add",onClick:this.openModal})),this.displayChannels(this.state.channels)),r.a.createElement(q.a,{basic:!0,open:this.state.modal,onClose:this.closeModal},r.a.createElement(q.a.Header,null,"Add a Channel"),r.a.createElement(q.a.Content,null,r.a.createElement(N.a.Field,{onSubmit:this.handleSubmit},r.a.createElement(N.a.Field,null,r.a.createElement(K.a,{fluid:!0,label:"Name of channel",name:"channelName",onChange:this.handleChange})),r.a.createElement(N.a.Field,null,r.a.createElement(K.a,{fluid:!0,label:"About the Channel",name:"channelDetails",onChange:this.handleChange})))),r.a.createElement(q.a.Actions,null,r.a.createElement(U.a,{color:"green",inverted:!0,onClick:this.handleSubmit},r.a.createElement(A.a,{name:"checkmark"})," Add"),r.a.createElement(U.a,{color:"red",inverted:!0,onClick:this.closeModal},r.a.createElement(A.a,{name:"remove"})," Cancel"))))}}]),t}(r.a.Component),Q=Object(o.b)(null,{setChannel:Y})(Z),X=function(e){Object(E.a)(t,e);var a=Object(v.a)(t);function t(){var e;Object(p.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=a.call.apply(a,[this].concat(l))).state={userRef:j.database().ref("users"),channelsRef:j.database().ref("privateMessages"),users:[],presenceRef:j.database().ref("presence"),activeChannel:null},e.removeListeners=function(){e.state.userRef.off(),e.state.presenceRef.off()},e.addEventListeners=function(){e.setUsers(e.props.userData.uid)},e.setUsers=function(a){var t=[];e.state.userRef.on("child_added",(function(n){if(a!==n.key){var r=n.val();r.uid=n.key,r.status="offline",t.push(r),e.setState({users:t})}})),e.state.presenceRef.on("child_added",(function(t){a!==t.key&&e.addStatusToUser(t.key)})),e.state.presenceRef.on("child_removed",(function(t){a!==t.key&&e.addStatusToUser(t.key,!1)}))},e.addStatusToUser=function(a){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.state.users.reduce((function(e,n){return n.uid===a&&(n.status="".concat(t?"online":"offline")),e.concat(n)}),[]);e.setState({users:n})},e.setChannel=function(a){e.setState({activeChannel:a.uid});var t=e.setChannelId(e.props.userData.uid,a.uid),n={id:t,name:a.name};e.createChannel(t,n),e.props.setChannel(n,!0)},e.createChannel=function(a,t){e.state.channelsRef.child(a).update(t).catch((function(e){return console.log(e)}))},e.setChannelId=function(e,a){return e>a?"".concat(e,"/").concat(a):"".concat(a,"/").concat(e)},e.displayUsers=function(a){return a.map((function(a){return r.a.createElement(x.a.Item,{key:a.uid,onClick:function(){return e.setChannel(a)},active:e.state.activeChannel===a.uid},r.a.createElement("span",null,r.a.createElement(H.a,{src:a.avatar,avatar:!0}),a.name),r.a.createElement(A.a,{name:"rss",color:"offline"===a.status?"red":"green"}))}))},e}return Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.userData&&this.addEventListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"render",value:function(){return r.a.createElement(x.a.Menu,null,r.a.createElement(x.a.Item,null,r.a.createElement("span",null,r.a.createElement(A.a,{name:"lock"})," PRIVATE MESSAGES")),this.displayUsers(this.state.users))}}]),t}(r.a.Component),$=Object(o.b)(null,{setChannel:Y})(X),ee=function(e){var a=e.userData;return r.a.createElement(x.a,{style:{backgroundColor:"#40123e"},fixed:"left",vertical:!0,inverted:!0,size:"large"},r.a.createElement(J,{userData:a}),r.a.createElement(Q,{userData:a}),r.a.createElement($,{userData:a}))},ae=t(482),te=function(e){var a=e.channelName,t=e.userAmount,n=e.handleChange;return r.a.createElement(L.a,{clearing:!0},r.a.createElement(M.a,{fluid:"true",as:"h2",floated:"left"},r.a.createElement("span",null,a,r.a.createElement(A.a,{name:"star outline",color:"black"})),r.a.createElement(M.a.Subheader,null,t)),r.a.createElement(M.a,{floated:"right"},r.a.createElement(K.a,{size:"mini",type:"text",icon:"search",name:"searchTerm",placeholder:"Search Messages",onChange:n})))},ne=t(489),re=t(168),le=t.n(re),se=function(e){var a=e.modal,t=e.closeModal,l=e.uploadFile,s=Object(n.useState)({file:null,authorized:["image/jpeg","image/png"]}),c=Object(O.a)(s,2),o=c[0],u=c[1],d=function(){u(Object(i.a)({},o,{file:null}))},m=function(e){return o.authorized.includes(le.a.lookup(e))};return r.a.createElement(q.a,{basic:!0,open:a,onClose:t},r.a.createElement(q.a.Header,null,"Select an image file"),r.a.createElement(q.a.Content,null,r.a.createElement(K.a,{onChange:function(e){var a=e.target.files[0];a&&u(Object(i.a)({},o,{file:a}))},fluid:!0,label:"File types: JPEG, PNG",name:"file",type:"file"})),r.a.createElement(q.a.Actions,null,r.a.createElement(U.a,{color:"green",onClick:function(){if(null!==o.file&&m(o.file.name)){var e={contentType:le.a.lookup(o.file.name)};l(o.file,e),d(),t()}},inverted:!0},r.a.createElement(A.a,{name:"checkmark"})," Send"),r.a.createElement(U.a,{color:"red",inverted:!0,onClick:function(){t(),d()}},r.a.createElement(A.a,{name:"remove"})," Cancel")))},ce=t(477),oe=function(e){var a=e.uploadState,t=e.percents;return"uploading"===a&&r.a.createElement(ce.a,{className:"progress_bar",percent:t,progress:!0,indicating:!0,size:"medium",inverted:!0})},ie=function(e){Object(E.a)(t,e);var a=Object(v.a)(t);function t(){var e;return Object(p.a)(this,t),(e=a.call(this)).handleChange=function(a){e.setState(Object(k.a)({},a.target.name,a.target.value))},e.createMessage=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t={timestamp:j.database.ServerValue.TIMESTAMP,user:{id:e.props.user.uid,name:e.props.user.displayName,avatar:e.props.user.photoURL}};return null!==a?t.image=a:t.content=e.state.message,t},e.uploadFile=function(a,t){var n="chat/public/".concat(Object(ne.a)(),".jpg"),r=e.props.channel.id,l=e.props.messageRef;e.setState({uploadState:"uploading",uploadTask:e.state.storageRef.child(n).put(a,t)},(function(){e.state.uploadTask.on("state_changed",(function(a){var t=Math.round(a.bytesTransferred/a.totalBytes*100);e.setState({percentUploaded:t})}),(function(a){console.log(a),e.setState({uploadState:"error",uploadTask:null})}),(function(){e.state.uploadTask.snapshot.ref.getDownloadURL().then((function(a){e.sendFileMessage(a,l,r)})).catch((function(a){console.log(a),e.setState({uploadState:"error",uploadTask:null})}))}))}))},e.sendFileMessage=function(a,t,n){t.child(n).push().set(e.createMessage(a)).then((function(){e.setState({uploadState:"done"})})).catch((function(a){console.log(a),e.setState({error:a.message})}))},e.sendMessage=function(){var a=e.props,t=a.messageRef,n=a.channel,r=e.props.isPrivate?"".concat(n.id,"/messages"):n.id;e.state.message.length>0?(e.setState({loading:!0,error:""}),t.child(r).push().set(e.createMessage()).then((function(){e.setState({loading:!1,message:""})})).catch((function(a){console.log(a),e.setState({loading:!1,message:"",error:a.message})}))):e.setState({error:"No data filled"})},e.openModal=function(){return e.setState({modal:!0})},e.closeModal=function(){return e.setState({modal:!1})},e.state={message:"",loading:!1,error:"",modal:!1,uploadTask:null,uploadState:"",percentUploaded:0,storageRef:j.storage().ref()},e}return Object(g.a)(t,[{key:"render",value:function(){var e=this,a=this.state,t=a.message,n=a.error,l=a.loading,s=a.modal,c=a.uploadState,o=a.percentUploaded;return r.a.createElement(L.a,{className:"messageForm"},r.a.createElement(K.a,{value:t,fluid:!0,name:"message",label:r.a.createElement(U.a,{icon:"add"}),labelPosition:"left",className:n.length>0?"error":null,placeholder:"Write your message",onChange:this.handleChange,onKeyDown:function(a){return 13===a.keyCode?e.sendMessage():null}}),r.a.createElement(U.a.Group,{icon:!0,widths:"2",style:{marginTop:"10px"}},r.a.createElement(U.a,{color:"green",content:"Add Reply",labelPosition:"left",icon:"edit",onClick:this.sendMessage,disabled:l,className:l?"loading":null}),r.a.createElement(U.a,{color:"red",content:"Upload Media",disabled:"uploading"===c,labelPosition:"right",icon:"cloud upload",onClick:this.openModal})),r.a.createElement(se,{modal:s,closeModal:this.closeModal,uploadFile:this.uploadFile}),r.a.createElement(oe,{uploadState:c,percents:o}))}}]),t}(r.a.Component),ue=t(266),de=t.n(ue),me=function(e,a){return e.user.id===a.uid?"message_self":null},he=function(e){var a,t=e.message,n=e.user;return r.a.createElement(ae.a,null,r.a.createElement(ae.a.Avatar,{src:t.user.avatar}),r.a.createElement(ae.a.Content,{className:me(t,n)},r.a.createElement(ae.a.Author,{as:"a"},t.user.name),r.a.createElement(ae.a.Metadata,null,(a=t.timestamp,de()(a).fromNow())),function(e){return e.hasOwnProperty("image")&&!e.hasOwnProperty("content")}(t)?r.a.createElement(H.a,{src:t.image,className:"message_image"}):r.a.createElement(ae.a.Text,null,t.content)))},fe=function(e){var a=e.channel,t=e.user,l=e.isPrivate,s=Object(n.useState)({messages:[],messageLoading:null,messageRef:j.database().ref("messages"),privateMessageRef:j.database().ref("privateMessages"),listeners:[],searchTerm:""}),c=Object(O.a)(s,2),o=c[0],u=c[1],d=Object(n.useRef)(null);Object(n.useEffect)((function(){return a&&t&&(m(o.listeners),u((function(e){return Object(i.a)({},e,{messageLoading:!0})})),h(a.id)),function(){o.messageRef.off()}}),[a,t]),Object(n.useEffect)((function(){d.current.scrollIntoView({behavior:"smooth"})}));var m=function(e){e.forEach((function(e){e.ref.child(e.id).off(e.event)}))},h=function(e){f(e)},f=function(e){var a=l?"".concat(e,"/messages"):e,t=l?o.privateMessageRef:o.messageRef;u((function(e){return Object(i.a)({},e,{messages:[]})}));var n=[];t.child(a).on("child_added",(function(e){n.push(e.val()),u((function(e){return Object(i.a)({},e,{messages:n,messageLoading:!1})}))})),function(e,a,t){if(-1===o.listeners.findIndex((function(n){return n.id===e&&n.ref===a&&n.event===t}))){var n={id:e,ref:a,event:t};u((function(e){return Object(i.a)({},e,{listeners:o.listeners.concat(n)})}))}}(a,t,"child_added")};return r.a.createElement(r.a.Fragment,null,r.a.createElement(te,{handleChange:function(e){u(Object(i.a)({},o,Object(k.a)({},e.target.name,e.target.value)))},channelName:function(e){return e?e.name:""}(a),userAmount:function(e){var a=e.reduce((function(e,a){return e.includes(a.user.name)||e.push(a.user.name),e}),[]);return 1===a.length?"".concat(a.length," user"):"".concat(a.length," users")}(o.messages)}),r.a.createElement(L.a,{className:"messages",loading:o.messageLoading},r.a.createElement(ae.a.Group,null,function(e){if(e.length>0)return e.filter((function(e){return 0===o.searchTerm.length||void 0!==e.content&&e.content.includes(o.searchTerm)?e:null})).map((function(e){return r.a.createElement(he,{key:e.timestamp,message:e,user:t})}))}(o.messages),r.a.createElement("div",{ref:d}))),r.a.createElement(ie,{messageRef:l?o.privateMessageRef:o.messageRef,isPrivate:l,channel:a,user:t}))},pe=function(){return r.a.createElement("div",null,"MetaPanel")},ge=function(){var e=Object(o.d)((function(e){return null!==e.user.user?{user:e.user.user,channel:e.channel.channel,isPrivate:e.channel.isPrivate}:{user:""}}));return r.a.createElement(P.a,{columns:"equal"},r.a.createElement(z,null),r.a.createElement(ee,{userData:e.user}),r.a.createElement(I.a,{style:{marginLeft:"320px"}},r.a.createElement(fe,{channel:e.channel,user:e.user,isPrivate:e.isPrivate})),r.a.createElement(I.a,{width:4},r.a.createElement(pe,null)))},Ee=t(486),ve=t(478),be=function(){return r.a.createElement(Ee.a,{active:!0},r.a.createElement(ve.a,{size:"huge",content:"Loading"}))},ye=function(e){Object(E.a)(t,e);var a=Object(v.a)(t);function t(){return Object(p.a)(this,t),a.apply(this,arguments)}return Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this;j.auth().onAuthStateChanged((function(a){null!==a?(e.props.setUser(a),B(a.uid,"add"),window.addEventListener("beforeunload",(function(){B(a.uid)})),e.props.history.push("/plackApp")):(e.props.setUser(null),e.props.history.push("/login"))}))}},{key:"render",value:function(){return this.props.isLoading?r.a.createElement(be,null):r.a.createElement("div",{className:"App"},r.a.createElement(b.c,null,r.a.createElement(b.a,{exact:!0,path:"/plackApp",component:ge}),r.a.createElement(b.a,{path:"/login",component:D}),r.a.createElement(b.a,{path:"/register",component:T})))}}]),t}(r.a.Component),Ce=Object(b.f)(Object(o.b)((function(e){return{isLoading:e.user.isLoading}}),{setUser:function(e){return{type:"SET_USER",user:e}}})(ye)),je=(t(460),t(461),Object(c.d)((function(e,a){return"RESET_APP"===a.type&&(e=void 0),m(e,a)}),Object(c.a)(h.a)));s.a.render(r.a.createElement(f.a,null,r.a.createElement(o.a,{store:je},r.a.createElement(Ce,null))),document.getElementById("root"))}},[[279,1,2]]]);
//# sourceMappingURL=main.ddaa23a2.chunk.js.map